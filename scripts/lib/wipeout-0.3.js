(function(){var k={};var e=function(n,l,m){m=m||window;if(n==null){return}if(n instanceof Array||n instanceof HTMLCollection||n instanceof NodeList||n instanceof NamedNodeMap){for(var o=0,p=n.length;o<p;o++){l.call(m,n[o],o)}}else{for(var o in n){l.call(m,n[o],o)}}};var f=function(n,l,m){m=m||window;if(n==null){return}if(n instanceof Array||n instanceof HTMLCollection||n instanceof NodeList||n instanceof NamedNodeMap){for(var o=n.length-1;o>=0;o--){l.call(m,n[o],o)}}else{var p=[];for(var o in n){p.push(o)}for(var o=p.length-1;o>=0;o--){l.call(m,n[p[o]],p[o])}}};var b=function(n,m,l){var o=c("wipeout.bindings."+n,l);ko.bindingHandlers[n]={init:o.init,update:o.update};if(m){ko.virtualElements.allowedBindings[n]=true}};var c=function(m,l){m=m.split(".");var n=m.splice(0,m.length-1);var o={};o[m[m.length-1]]=l();g(n.join("."),o);return o[m[m.length-1]]};var g=function(n,m){n=n.split(".");if(n[0]!=="wipeout"){throw'Root must be "wipeout".'}n.splice(0,1);var l=k;e(n,function(o){l=l[o]||(l[o]={})});if(m&&m instanceof Function){m=m()}e(m,function(p,o){l[o]=p})};var a=/^\s+|\s+$/g;var i=function(l){return l?l.replace(a,""):l};var j=function(l){return l?i(l).toLowerCase():l};var h=function(l){if(l==null){return false}l=j(l);return l&&l!=="false"&&l!=="0"};c("wipeout.utils.obj",function(){var n=function(r,s){if(!s){s=window}var q=r.split(".");for(var t=0,u=q.length;t<u;t++){s=s[q[t]];if(s==null){return null}}return s};var m=function(r,s){var q=n(r,s);if(q instanceof Function){var t=new q();if(t instanceof k.base.view&&d){t.__woBag.constructedViewType=r}return t}throw r+" is not a valid function."};var l=function(s){var t=[];for(var q=0,r=s.length;q<r;q++){t.push(s[q])}return t};var p=function(q){return Math.floor(Math.random()*q)};var o=function(){};o.parseBool=h;o.trimToLower=j;o.trim=i;o.enumerate=e;o.enumerateDesc=f;o.getObject=n;o.createObject=m;o.copyArray=l;o.random=p;return o});c("wipeout.base.object",function(){var m=function(){};var l={parents:[],children:[]};m.clearVirtualCache=function(o){if(!o){l.parents.length=0;l.children.length=0;return}for(var p=0,q=l.children.length;p<q;p++){if(l.children[p]===o||l.parents[p]===o){l.children.splice(p,1);l.parents.splice(p,1)}}};m.useVirtualCache=true;m.prototype._super=function(){var o=null;if(m.useVirtualCache){var v=l.children.indexOf(arguments.callee.caller);if(v!==-1){o=l.parents[v]}}if(!o){var s=[];var p=this.constructor.prototype;while(p){s.push(p);p=Object.getPrototypeOf(p)}s.reverse();for(var q=0,r=s.length;q<r;q++){if(s[q]===arguments.callee.caller.prototype){o=s[q-1].constructor}else{for(var u in s[q]){if(s[q][u]===arguments.callee.caller){for(var t=q-1;t>=0;t--){if(s[t][u]!==arguments.callee.caller){o=s[t][u];break}}}if(o){break}}}if(o){if(m.useVirtualCache){l.children.push(arguments.callee.caller);l.parents.push(o)}break}}if(!o){throw"Could not find method in parent class"}}return o.apply(this,arguments)};var n=/^[a-zA-Z_][a-zA-Z_0-9]*$/;m.extend=function(o,q){for(var r in this){if(this.hasOwnProperty(r)&&this[r]&&this[r].constructor===Function&&this[r]!==m.clearVirtualCache){o[r]=this[r]}}if(q&&d){if(!n.test(q)){throw"Invalid class name. The class name is for debug purposes and can contain alphanumeric characters only"}new Function("childClass","parentClass","            function "+q+"() { this.constructor = childClass; }            "+q+".prototype = parentClass.prototype;            childClass.prototype = new "+q+"();")(o,this)}else{function s(){this.constructor=o}s.prototype=this.prototype;o.prototype=new s()}return o};return m});c("wipeout.base.disposable",function(){var l=k.base.object.extend(function(m){this._super();this.disposeFunction=m});l.prototype.dispose=function(){if(this.disposeFunction){this.disposeFunction()}delete this.disposeFunction};return l});c("wipeout.base.visual",function(){var l=k.base.object.extend(function(m){this._super();this.woInvisible=this.constructor.woInvisibleDefault;this.templateItems={};this.templateId=ko.observable(m||l.getDefaultTemplateId());this.__woBag={disposables:{},createdByWipeout:false,rootHtmlElement:null,routedEventSubscriptions:[],renderedChildren:[]}},"visual");l.woInvisibleDefault=false;l.prototype.disposeOf=function(m){if(this.__woBag.disposables[m]){this.__woBag.disposables[m]();delete this.__woBag.disposables[m]}};l.prototype.disposeOfAll=function(){for(var m in this.__woBag.disposables){this.disposeOf(m)}};l.prototype.registerDisposable=(function(){var m=0;return function(n){if(!n||n.constructor!==Function){throw"The dispose function must be a Function"}var o=(++m).toString();this.__woBag.disposables[o]=n;return o}})();l.prototype.unTemplate=function(){e(this.__woBag.renderedChildren.splice(0,this.__woBag.renderedChildren.length),function(o){if(o instanceof l){if(o.__woBag.createdByWipeout){o.dispose()}else{o.unRender()}}});e(this.templateItems,function(p,o){delete this.templateItems[o]},this);if(this.__woBag.rootHtmlElement){var m=document.contains?document:document.getElementsByTagName("body")[0];if(m){if(m.contains(this.__woBag.rootHtmlElement)){ko.virtualElements.emptyNode(this.__woBag.rootHtmlElement)}else{console.warn("Warning, could not dispose of html element correctly. This element has been manually moved from the DOM (not by knockout)")}}else{try{ko.virtualElements.emptyNode(this.__woBag.rootHtmlElement)}catch(n){console.warn("Warning, could not dispose of html element correctly. This element has been manually moved from the DOM (not by knockout)")}}}};l.prototype.unRender=function(){this.onUnrender();this.unTemplate();if(this.__woBag.rootHtmlElement){ko.utils.domData.set(this.__woBag.rootHtmlElement,k.bindings.wipeout.utils.wipeoutKey,undefined);delete this.__woBag.rootHtmlElement}};l.prototype.dispose=function(){this.unRender();for(var m in this){if(ko.isObservable(this[m])&&this[m].dispose instanceof Function){this[m].dispose()}}e(this.__woBag.routedEventSubscriptions.splice(0,this.__woBag.routedEventSubscriptions.length),function(n){n.dispose()})};l.getParentElement=function(o){var n=0;var m=o.previousSibling;while(m){if(k.utils.ko.virtualElements.isVirtualClosing(m)){n--}if(k.utils.ko.virtualElements.isVirtual(m)){if(n===0){return m}n++}m=m.previousSibling}return o.parentNode};l.prototype.getParents=function(){var m=this;var n=[];while(m){n.push(m);m=m.getParent()}return n};l.prototype.getParent=function(){if(this.__woBag.rootHtmlElement==null){return null}var n;var m=l.getParentElement(this.__woBag.rootHtmlElement);while(m){if(n=ko.utils.domData.get(m,k.bindings.wipeout.utils.wipeoutKey)){return n}m=l.getParentElement(m)}};l.prototype.unRegisterRoutedEvent=function(q,m,n){for(var o=0,p=this.__woBag.routedEventSubscriptions.length;o<p;o++){if(this.__woBag.routedEventSubscriptions[o].routedEvent===q){this.__woBag.routedEventSubscriptions[o].event.unRegister(m,context);return true}}return false};l.prototype.registerRoutedEvent=function(r,m,n){var q;for(var o=0,p=this.__woBag.routedEventSubscriptions.length;o<p;o++){if(this.__woBag.routedEventSubscriptions[o].routedEvent===r){q=this.__woBag.routedEventSubscriptions[o];break}}if(!q){q=new k.base.routedEventRegistration(r);this.__woBag.routedEventSubscriptions.push(q)}return q.event.register(m,n)};l.prototype.triggerRoutedEvent=function(q,m){if(!(m instanceof k.base.routedEventArgs)){m=new k.base.routedEventArgs(m,this)}for(var n=0,o=this.__woBag.routedEventSubscriptions.length;n<o;n++){if(m.handled){return}if(this.__woBag.routedEventSubscriptions[n].routedEvent===q){this.__woBag.routedEventSubscriptions[n].event.trigger(m)}}if(!m.handled){var p=this.getParent();if(p){p.triggerRoutedEvent(q,m)}}};l.prototype.onRendered=function(n,m){};l.prototype.onUnrender=function(){};l.prototype.onApplicationInitialized=function(){};l.getDefaultTemplateId=(function(){var m=null;return function(){if(!m){m=k.base.contentControl.createAnonymousTemplate("<span>No template has been specified</span>")}return m}})();l.getBlankTemplateId=(function(){var m=null;return function(){if(!m){m=k.base.contentControl.createAnonymousTemplate("")}return m}})();l.visualGraph=function(o,m){if(!o){return[]}m=m||function(){return typeof arguments[0]};var n=[];k.utils.obj.enumerate(k.utils.html.getAllChildren(o),function(q){k.utils.obj.enumerate(l.visualGraph(q),n.push,n)});var p=ko.utils.domData.get(o,k.bindings.wipeout.utils.wipeoutKey);if(p){return[{viewModel:p,display:m(p),children:n}]}return n};l.reservedTags=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","head","header","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"];return l});c("wipeout.base.view",function(){var l="wo.view.modelRoutedEvents";var n=k.base.visual.extend(function(q,p){this._super(q);this.model=ko.observable(p||null);var p=null;this.registerDisposable(this.model.subscribe(function(r){try{this.onModelChanged(p,r)}finally{p=r}},this).dispose);var o=this;this.__woBag.bindings={}},"view");var m=function(o,p,q){if(ko.isObservable(o[p])){o[p](ko.utils.unwrapObservable(q))}else{o[p]=ko.utils.unwrapObservable(q)}};n.prototype.disposeOfBinding=function(o){if(this.__woBag.bindings[o]){this.__woBag.bindings[o].dispose()}};n.prototype.dispose=function(){this._super();if(this.__woBag[l]){this.__woBag[l].dispose();delete this.__woBag[l]}for(var o in this.__woBag.bindings){this.disposeOfBinding(o)}};n.prototype.onInitialized=function(){};n.prototype.bind=function(p,w,t){if(t&&(!ko.isObservable(this[p])||!ko.isObservable(w()))){throw"Two way bindings must be between 2 observables"}this.disposeOfBinding(p);var s=ko.dependentObservable({read:function(){return ko.utils.unwrapObservable(w())},write:t?function(){var x=w();if(x){x(arguments[0])}}:undefined});var u=false;var v=false;m(this,p,s.peek());var q=s.subscribe(function(x){if(!u){try{v=true;m(this,p,x)}finally{v=false}}},this);var r=t?this[p].subscribe(function(x){if(!v){try{u=true;m({x:s},"x",x)}finally{u=false}}},this):null;var o=this;return this.__woBag.bindings[p]=new k.base.disposable(function(){if(q){q.dispose();q=null}if(r){r.dispose();r=null}if(s){s.dispose();s=null}delete o.__woBag.bindings[p]})};n.elementHasModelBinding=function(o){for(var p=0,q=o.attributes.length;p<q;p++){if(o.attributes[p].nodeName==="model"||o.attributes[p].nodeName==="model-tw"){return true}}for(var p=0,q=o.childNodes.length;p<q;p++){if(o.childNodes[p].nodeType===1&&o.childNodes[p].nodeName==="model"){return true}}return false};n.reservedPropertyNames=["constructor","constructor-tw","id","id-tw"];n.prototype.initialize=function(r,p){if(this._initialized){throw"Cannot call initialize item twice"}this._initialized=true;if(!r){return}var q=r.getAttribute("woInvisible");if(q){this.woInvisible=h(q)}if(!n.elementHasModelBinding(r)&&k.utils.ko.peek(this.model)==null){this.bind("model",p.$data.model)}var o=this.woInvisible?p:p.createChildContext(this);e(r.attributes,function(s){if(n.reservedPropertyNames.indexOf(s.nodeName)!==-1){return}var t=s.nodeName,u="";if(t.indexOf("-tw")===s.nodeName.length-3){t=t.substr(0,t.length-3);u=",\n\t\t\tfunction(val) {\n\t\t\t\tif(!ko.isObservable("+s.value+"))\n\t\t\t\t\tthrow 'Two way bindings must be between 2 observables';\n\t\t\t\t"+s.value+"(val);\n\t\t\t}"}try{o.__$woCurrent=this;k.template.engine.createJavaScriptEvaluatorFunction("(function() {\n\t\t\t__$woCurrent.bind('"+t+"', function() {\n\t\t\t\treturn "+s.value+";\n\t\t\t}"+u+");\n\n\t\t\treturn '';\n\t\t})()")(o)}finally{delete o.__$woCurrent}},this);e(r.childNodes,function(s,t){if(s.nodeType!==1||n.reservedPropertyNames.indexOf(s.nodeName)!==-1){return}var y="string";for(var v=0,w=s.attributes.length;v<w;v++){if(s.attributes[v].nodeName==="constructor"&&s.attributes[v].nodeValue){y=s.attributes[v].nodeValue;break}}if(n.objectParser[j(y)]){var u=[];var x=x||new XMLSerializer();for(var v=0,w=s.childNodes.length;v<w;v++){if(s.childNodes[v].nodeType==3){u.push(s.childNodes[v].nodeValue)}else{u.push(x.serializeToString(s.childNodes[v]))}}var z=n.objectParser[j(y)](u.join(""));if(ko.isObservable(this[s.nodeName])){this[s.nodeName](z)}else{this[s.nodeName]=z}}else{var z=k.utils.obj.createObject(y);if(z instanceof k.base.view){z.__woBag.createdByWipeout=true;z.initialize(s,o)}if(ko.isObservable(this[s.nodeName])){this[s.nodeName](z)}else{this[s.nodeName]=z}}},this)};n.objectParser={json:function(o){return JSON.parse(o)},string:function(o){return o},bool:function(p){var o=j(p);return o?o!=="false"&&o!=="0":false},"int":function(o){return parseInt(i(o))},"float":function(o){return parseFloat(i(o))},regexp:function(o){return new RegExp(i(o))},date:function(o){return new Date(i(o))}};n.prototype.onModelChanged=function(p,o){this.disposeOf(this.__woBag[l]);if(o instanceof k.base.routedEventModel){this.__woBag[l]=this.registerDisposable(o.__triggerRoutedEventOnVM.register(this.onModelRoutedEvent,this).dispose)}};n.prototype.onModelRoutedEvent=function(o){if(!(o.routedEvent instanceof k.base.routedEvent)){throw"Invaid routed event"}this.triggerRoutedEvent(o.routedEvent,o.eventArgs)};return n});c("wipeout.debug",function(){var l=function(){if(!window.jQuery){throw"This debug tool requires jQuery"}};return{renderedItems:function(o,n){var p=[],q;var m=function(r){if(r){switch(r.nodeType){case 1:e(r.childNodes,m);case 8:if((q=k.utils.html.getViewModel(r))&&p.indexOf(q)===-1&&(!n||q.constructor===n)){p.push(q)}}}};m(o||document.getElementsByTagName("body")[0]);return p}}});c("wipeout.base.contentControl",function(){var l=k.base.view.extend(function(p,o){this._super(p||k.base.visual.getBlankTemplateId());this.template=l.createTemplatePropertyFor(this.templateId,this)},"contentControl");l.createTemplatePropertyFor=function(q,p){var o=ko.dependentObservable({read:function(){var r=document.getElementById(q());return r?r.textContent:""},write:function(r){q(k.base.contentControl.createAnonymousTemplate(r))},owner:p});if(p instanceof k.base.visual){p.registerDisposable(o.dispose)}return o};var m="data-templatehash";var n=(function(){var q=null;var o=Math.floor(Math.random()*1000000000);var p=function(){if(!q){q=k.utils.html.createElement("<div style='display: none'></div>");document.body.appendChild(q)}};return{create:function(w,r){p();w=i(w);var s=l.hashCode(w).toString();if(!r){for(var u=0,v=q.childNodes.length;u<v;u++){if(q.childNodes[u].nodeType===1&&q.childNodes[u].nodeName==="SCRIPT"&&q.childNodes[u].id&&q.childNodes[u].attributes[m]&&q.childNodes[u].attributes[m].nodeValue===s&&q.childNodes[u].innerHTML===w){return q.childNodes[u].id}}}var t="AnonymousTemplate"+(++o);q.innerHTML+='<script type="text/xml" id="'+t+'" '+m+'="'+s+'">'+w+"</script>";return t},del:function(s){p();for(var r=0;r<q.childNodes.length;r++){if(q.childNodes[r].nodeType===1&&q.childNodes[r].nodeName==="SCRIPT"&&q.childNodes[r].id===s){q.removeChild(q.childNodes[r]);r--}}}}})();l.createAnonymousTemplate=n.create;l.deleteAnonymousTemplate=n.del;l.hashCode=function(s){var p=0;for(var q=0,r=s.length;q<r;q++){var o=s.charCodeAt(q);p=((p<<5)-p)+o;p=p&p}return p};return l});var k=k||{};k.base=k.base||{};c("wipeout.base.eventRegistration",function(){return k.base.disposable.extend(function(l,m,n){this._super(n);this.callback=l;this.context=m})});c("wipeout.base.event",function(){var l=function(){this._registrations=[]};l.prototype.trigger=function(m){for(var n=0,o=this._registrations.length;n<o;n++){if(m instanceof k.base.routedEventArgs&&m.handled){return}this._registrations[n].callback.call(this._registrations[n].context,m)}};l.prototype.unRegister=function(m,n){n=n==null?window:n;for(var o=0,p=this._registrations.length;o<p;o++){if(this._registrations[o].callback===m&&this._registrations[o].context===n){this._registrations.splice(o,1);o--}}};l.prototype.dispose=function(){this._registrations.length=0};l.prototype.register=function(m,n){if(!(m instanceof Function)){throw"Invalid event callback"}var p=this._registrations;var o={callback:m,context:n==null?window:n,dispose:function(){var q=p.indexOf(o);if(q>=0){p.splice(q,1)}}};this._registrations.push(o);return new k.base.eventRegistration(o.callback,o.context,o.dispose)};return l});c("wipeout.base.if",function(){var m=true;var n=function(){if(!m){return}m=false;l.blankTemplateId=k.base.contentControl.createAnonymousTemplate("",true)};var l=k.base.contentControl.extend(function(p,o){n();this._super(p,o);this.condition=ko.observable();this.elseTemplateId=ko.observable(l.blankTemplateId);this.registerDisposable(this.elseTemplateId.subscribe(this.elseTemplateChanged,this).dispose);this.elseTemplate=k.base.contentControl.createTemplatePropertyFor(this.elseTemplateId,this);this.__cachedTemplateId=this.templateId();this.registerDisposable(this.condition.subscribe(this.onConditionChanged,this).dispose);this.registerDisposable(this.templateId.subscribe(this.copyTemplateId,this).dispose);this.copyTemplateId(this.templateId())},"_if");l.woInvisibleDefault=true;l.prototype.elseTemplateChanged=function(o){if(!this.condition()){this.templateId(o)}};l.prototype.onConditionChanged=function(o){if(this.__oldConditionVal&&!o){this.templateId(this.elseTemplateId())}else{if(!this.__oldConditionVal&&o){this.templateId(this.__cachedTemplateId)}}this.__oldConditionVal=!!o};l.prototype.copyTemplateId=function(o){if(o!==this.elseTemplateId()){this.__cachedTemplateId=o}if(!this.condition()&&o!==this.elseTemplateId()){this.templateId(this.elseTemplateId())}};return l});c("wipeout.base.itemsControl",function(){var l;var n=function(){if(l){return}l=k.base.contentControl.createAnonymousTemplate("<div data-bind='itemsControl: null'></div>")};var m=k.base.contentControl.extend(function(q,o,p){n();this._super(q||l,p);this.itemTemplateId=ko.observable(o);this.itemTemplate=k.base.contentControl.createTemplatePropertyFor(this.itemTemplateId,this);this.itemSource=ko.observableArray([]);this.items=ko.observableArray([]);if(k.utils.ko.version()[0]<3){m.subscribeV2.call(this)}else{m.subscribeV3.call(this)}this.registerDisposable(this.items.subscribe(this.syncModelsAndViewModels,this).dispose);var o=this.itemTemplateId.peek();this.registerDisposable(this.itemTemplateId.subscribe(function(r){if(o!==r){try{this.reDrawItems()}finally{o=r}}},this).dispose)},"itemsControl");m.subscribeV2=function(){var p=this.itemSource.peek();this.registerDisposable(this.itemSource.subscribe(function(){try{if(this.modelsAndViewModelsAreSynched()){return}this._itemSourceChanged(ko.utils.compareArrays(p,arguments[0]||[]))}finally{p=k.utils.obj.copyArray(arguments[0]||[])}},this).dispose);var o=this.items.peek();this.registerDisposable(this.items.subscribe(function(){try{this._itemsChanged(ko.utils.compareArrays(o,arguments[0]||[]))}finally{o=k.utils.obj.copyArray(arguments[0]||[])}},this).dispose)};m.subscribeV3=function(){this.registerDisposable(this.itemSource.subscribe(this._itemSourceChanged,this,"arrayChange").dispose);this.registerDisposable(this.items.subscribe(this._itemsChanged,this,"arrayChange").dispose)};m.prototype.syncModelsAndViewModels=function(){var o=false,r=false;var s=this.itemSource();if(s==null){r=true;s=[]}var t=this.items();if(s.length!==t.length){o=true;s.length=t.length}for(var p=0,q=t.length;p<q;p++){if(t[p].model()!==s[p]){s[p]=t[p].model();o=true}}if(o){if(r){this.itemSource(s)}else{this.itemSource.valueHasMutated()}}};m.prototype.modelsAndViewModelsAreSynched=function(){var q=this.itemSource()||[];var r=this.items()||[];if(q.length!==r.length){return false}for(var o=0,p=q.length;o<p;o++){if(q[o]!==r[o].model()){return false}}return true};m.prototype._itemsChanged=function(o){e(o,function(p){if(p.status===k.utils.ko.array.diff.deleted&&p.moved==null){this.onItemDeleted(p.value)}else{if(p.status===k.utils.ko.array.diff.added&&p.moved==null){this.onItemRendered(p.value)}}},this)};m.prototype._itemSourceChanged=function(p){var u=this.items();var q=[],o=[],v={},r=0;for(var s=0,t=p.length;s<t;s++){if(p[s].status===k.utils.ko.array.diff.retained){continue}else{if(p[s].status===k.utils.ko.array.diff.deleted){q.push((function(w){return function(){var x=u.splice(w.index+r,1)[0];if(w.moved!=null){v[w.moved+"."+w.index]=x}r--}})(p[s]))}else{if(p[s].status===k.utils.ko.array.diff.added){o.push((function(w){return function(){var x=w.moved!=null?v[w.index+"."+w.moved]:this._createItem(w.value);u.splice(w.index,0,x)}})(p[s]))}else{throw"Unsupported status"}}}}for(s=0,t=q.length;s<t;s++){q[s].call(this)}for(s=0,t=o.length;s<t;s++){o[s].call(this)}this.items.valueHasMutated()};m.prototype.onItemRendered=function(o){};m.prototype.onItemDeleted=function(o){var p=this.__woBag.renderedChildren.indexOf(o);if(p!==-1){this.__woBag.renderedChildren.splice(p,1)}o.dispose()};m.prototype._createItem=function(p){var o=this.createItem(p);o.__woBag.createdByWipeout=true;return o};m.prototype.createItem=function(o){return new k.base.view(this.itemTemplateId(),o)};m.prototype.reDrawItems=function(){var q=this.itemSource()||[];var r=this.items();r.length=q.length;for(var o=0,p=q.length;o<p;o++){r[o]=this._createItem(q[o])}this.items.valueHasMutated()};return m});c("wipeout.base.routedEvent",function(){var l=function(){};l.prototype.trigger=function(n,m){n.triggerRoutedEvent(this,new k.base.routedEventArgs(m,n))};l.prototype.unRegister=function(m,o,n){return o.unRegisterRoutedEvent(this,m,n)};l.prototype.register=function(m,o,n){return o.registerRoutedEvent(this,m,n)};return l});c("wipeout.base.routedEventArgs",function(){var l=function(m,n){this.handled=false;this.data=m;this.originator=n};return l});c("wipeout.base.routedEventRegistration",function(){var l=function(m){this.routedEvent=m;this.event=new k.base.event()};l.prototype.dispose=function(){this.event.dispose()};return l});c("wipeout.base.routedEventModel",function(){var l=k.base.object.extend(function(){this.__triggerRoutedEventOnVM=new wo.event()});l.prototype.triggerRoutedEvent=function(n,m){this.__triggerRoutedEventOnVM.trigger({routedEvent:n,eventArgs:m})};return l});b("itemsControl",true,function(){var m="";var n=null;var o=function(){if(n){return}var r="<!-- ko ic-render: $data";if(d){r+=", wipeout-type: 'items[' + wipeout.utils.ko.peek($index) + ']'"}r+=" --><!-- /ko -->";n=k.base.contentControl.createAnonymousTemplate(r)};var l=function(t,v,r,w,s){var u=k.utils.ko.peek(w);if(u&&!(u instanceof k.base.itemsControl)){throw"This binding can only be used on an itemsControl"}o();return ko.bindingHandlers.template.init.call(this,t,q.createAccessor(w),r,w,s)};var p=function(t,v,r,w,s){var u=k.utils.ko.peek(w);if(u&&!(u instanceof k.base.itemsControl)){throw"This binding can only be used on an itemsControl"}return ko.bindingHandlers.template.update.call(this,t,q.createAccessor(w),r,w,s)};var q={createAccessor:function(r){r=k.utils.ko.peek(r);return function(){return{name:n,foreach:r.items,templateEngine:k.template.engine.instance}}}};return{init:l,update:p,utils:q}});b("ic-render",true,function(){var l=function(p,q,n,r,o){return k.bindings.render.init.call(this,p,q,n,o.$parent,o.$parentContext)};var m=function(p,q,n,r,o){return k.bindings.render.update.call(this,p,q,n,o.$parent,o.$parentContext)};return{init:l,update:m}});b("render",true,function(){var m=function(q,r,o,s,p){return ko.bindingHandlers.template.init.call(this,q,k.bindings.render.utils.createValueAccessor(r),o,s,p)};var n=function(s,v,p,w,q){var r=k.utils.ko.peek(k.utils.ko.peek(v()));if((w&&!(w instanceof k.base.visual))||(r&&!(r instanceof k.base.visual))){throw"This binding can only be used to render a wo.visual within the context of a wo.visual"}if(r&&w&&r===w){throw"A wo.visual cannot be a child of itself."}if(r&&r.__woBag.rootHtmlElement){throw"This visual has already been rendered. Call its unRender() function before rendering again."}var o=this;var u=function(){if(r){r.unTemplate()}ko.bindingHandlers.template.update.call(o,s,k.bindings.render.utils.createValueAccessor(v),p,r,q);var x=p();if(x["wipeout-type"]){k.bindings["wipeout-type"].utils.comment(s,x["wipeout-type"])}};var t=ko.utils.domData.get(s,k.bindings.wipeout.utils.wipeoutKey);if(t instanceof k.base.visual){if(t.__woBag.createdByWipeout){t.dispose()}else{t.unRender()}}if(r){ko.utils.domData.set(s,k.bindings.wipeout.utils.wipeoutKey,r);r.__woBag.rootHtmlElement=s;if(w){w.__woBag.renderedChildren.push(r)}r.templateId.subscribe(u)}u()};var l=function(o){return function(){var q=o();var p=ko.utils.unwrapObservable(q);var r={templateEngine:k.template.engine.instance,name:p?p.templateId.peek():"",afterRender:p?function(t,s){var u=p.nodes||[];p.nodes=t;p.onRendered(u,t)}:undefined};if(q&&!q.woInvisible){r.data=q||{}}return r}};return{init:m,update:n,utils:{createValueAccessor:l}}});b("wipeout-type",true,function(){var l="wipeout-type";return{init:function(){},utils:{comment:function(m,o){o=k.utils.ko.peek(o);if(m.nodeType===1){if(m.childNodes.length){m.insertBefore(document.createComment(o),m.childNodes[0])}else{m.appendChild(document.createComment(o))}}else{if(m.nodeType===8){var n;if(!(n=ko.utils.domData.get(m,l))){ko.utils.domData.set(m,l,n=m.textContent)}m.textContent=n+" wipeout-type: "+o}}}}}});b("wipeout",true,function(){var m=function(p,s,n,u,o){if(ko.utils.domData.get(p,k.bindings.wipeout.utils.wipeoutKey)){throw"This element is already bound to another model"}var r=s();if(!r){throw"Invalid view type"}var t=new r();if(!(t instanceof k.base.view)){throw"Invalid view type"}t.model(u);var q=ko.bindingHandlers.render.init.call(this,p,l(t),n,null,o);ko.bindingHandlers.render.update.call(this,p,l(t),n,null,o);t.onApplicationInitialized();return q};var l=function(n){return function(){return n}};return{init:m,utils:{createValueAccessor:l,wipeoutKey:"__wipeout"}}});b("wo",true,function(){var l=function(p,s,m,t,n){var r=k.template.engine.scriptCache[s()](n);if(r.id){var o=n;while(o.$data.woInvisible){o=o.$parentContext}o.$data.templateItems[r.id]=r.vm}var q=k.bindings.render.init.call(this,p,function(){return r.vm},m,t,n);k.bindings.render.update.call(this,p,function(){return r.vm},m,t,n);return q};return{init:l}});c("wipeout.profile.profiler",function(){var m=function(){if(!window.jQuery){throw"This debug tool requires jQuery"}};var n=k.base.object.extend(function(p){m();this.vm=p;this.cssClass="wipeout-profiler-"+n.newId()});n.createStyle=function(){if(n.style){return}n.style=document.createElement("style");$("body").append(n.style)};n.prototype.allNodes=function(){var p=$(k.utils.ko.virtualElements.childNodes(this.vm.__woBag.rootHtmlElement));return p.find("*").add(p)};var l=".wipeoutProfiler";n.prototype.profile=function(){n.createStyle();var q=this.vm;var p=this;this.allNodes().addClass(p.cssClass).on("click"+l,function(r){r.preventDefault();r.stopPropagation();k.profile.utils.popup(k.profile.utils.generateInfo(q))});n.style.innerHTML+="."+this.cssClass+" {background-color:#efcdd9 !important;}"};n.prototype.dispose=function(){this.allNodes().off("click"+l).removeClass(this.cssClass)};n.newId=(function(){var p=0;return function(){return ++p}})();function o(){this.items=[]}o.prototype.push=function(q){var p=this;var r=function(){p.items.splice(p.items.indexOf(r),1);q();if(p.items.length){p.items.splice(0,1)[0](p)}};this.items.push(r);if(this.items[0]===r){r()}};n.profile=function(){var t;var s=new o();var p=null;var r={dispose:function(){}};$("body").on("mouseover",function(q){if(!q.fromElement||p===q.fromElement){return}p=q.fromElement;var u=k.utils.html.getViewModel(p);if(!u||u===r.vm){return}if(t){clearTimeout(t)}t=setTimeout(function(){s.push(function(){r.dispose();r=new n(u);r.profile()})},100)})};return n});c("wipeout.profile.utils",function(){var l=function(){if(!window.jQuery){throw"This debug tool requires jQuery"}};return{generateColour:function(){var o=Math.floor((k.utils.obj.random(255)+255)/2);var n=Math.floor((k.utils.obj.random(255)+255)/2);var m=Math.floor((k.utils.obj.random(255)+255)/2);return o.toString(16)+n.toString(16)+m.toString(16)},generateInfo:function(m){return m.__woBag.rootHtmlElement.textContent},popup:function(n){var m=$('<div style="z-index: 100000; position: fixed; top: 10%; left: 10%; background-color: white; height: 80%; width: 80%">                <div>'+n+'</div>                <button id="wipeoutProfileCloseButton">Close</button>            </div>');m.find("#wipeoutProfileCloseButton").on("click",function(){$(this).parent().remove()});$("body").append(m[0])}}});c("wipeout.template.engine",function(){var l=function(){};l.prototype=new ko.templateEngine();l.createJavaScriptEvaluatorFunction=function(n){return new Function("bindingContext","with(bindingContext) {\n\twith($data) {\n\t\treturn "+n+";\n\t}\n}")};l.createJavaScriptEvaluatorBlock=function(n){var o=l.newScriptId();if(n instanceof Function){l.scriptCache[o]=n}else{l.scriptCache[o]=l.createJavaScriptEvaluatorFunction(n)}return l.openCodeTag+o+l.closeCodeTag};l.prototype.createJavaScriptEvaluatorBlock=function(n){return l.createJavaScriptEvaluatorBlock(n)};l.prototype.rewriteTemplate=function(p,n,q){var o=document.getElementById(p);if(o instanceof HTMLElement){if(!l.scriptHasBeenReWritten.test(o.textContent)){ko.templateEngine.prototype.rewriteTemplate.call(this,p,n,q)}else{this.makeTemplateSource(p,q).data("isRewritten",true)}this.wipeoutRewrite(o,n)}else{ko.templateEngine.prototype.rewriteTemplate.call(this,p,n,q)}};l.wipeoutRewrite=function(t,r){if(k.base.visual.reservedTags.indexOf(t.nodeName)!==-1){for(var n=0;n<t.childNodes.length;n++){if(t.childNodes[n].nodeType===1){l.wipeoutRewrite(t.childNodes[n],r)}}}else{var o=l.newScriptId();l.scriptCache[o]=function(u){var v=k.utils.obj.createObject(t.nodeName);if(!(v instanceof k.base.view)){throw"Only wo.view elements can be created in this way"}v.__woBag.createdByWipeout=true;v.initialize(t,u);return{vm:v,id:l.getId(t)}};var s="<!-- ko";if(d){s+=" wipeout-type: '"+t.nodeName+"',"}s+=" wo: "+o+" --><!-- /ko -->";var q=new DOMParser().parseFromString("<root>"+r(s)+"</root>","application/xml").documentElement;while(q.childNodes.length){var p=q.childNodes[0];p.parentNode.removeChild(p);t.parentNode.insertBefore(p,t)}t.parentNode.removeChild(t)}};l.getId=function(p){for(var n=0,o=p.attributes.length;n<o;n++){if(p.attributes[n].nodeName==="id"){return p.attributes[n].value}}return null};l.prototype.wipeoutRewrite=function(p,o){var r=new XMLSerializer();xmlTemplate=new DOMParser().parseFromString("<root>"+p.textContent+"</root>","application/xml").documentElement;if(xmlTemplate.firstChild&&xmlTemplate.firstChild.nodeName==="parsererror"){throw"Invalid xml template:\n"+r.serializeToString(xmlTemplate.firstChild)}var q=[];for(var n=0;n<xmlTemplate.childNodes.length;n++){if(xmlTemplate.childNodes[n].nodeType===1){l.wipeoutRewrite(xmlTemplate.childNodes[n],o)}q.push(r.serializeToString(xmlTemplate.childNodes[n]))}p.textContent=q.join("")};l.prototype.renderTemplateSource=function(r,n,p){if(!(n.$data instanceof k.base.view)){return[]}var o=r.data("precompiled");if(!o){o=new k.template.htmlBuilder(r.text());r.data("precompiled",o)}var q;ko.dependentObservable(function(){q=o.render(n)},this).dispose();return q};if(d){var m=function(n){l.prototype[n]=function(){ko.templateEngine.prototype[n].apply(this,arguments)}};m("isTemplateRewritten");m("makeTemplateSource");m("renderTemplate")}l.newScriptId=(function(){var n=Math.floor(Math.random()*10000);return function(){return(++n).toString()}})();l.scriptCache={};l.openCodeTag="<!-- wipeout_code: {";l.closeCodeTag="} -->";l.scriptHasBeenReWritten=RegExp(l.openCodeTag.replace("{","{")+"[0-9]+"+l.closeCodeTag.replace("}","}"));l.instance=new l();return l});c("wipeout.template.htmlBuilder",function(){var l=function(m){this.preRendered=[];this.generatePreRender(m)};l.prototype.render=function(m){var n=[];var s=[];for(var p=0,q=this.preRendered.length;p<q;p++){if(this.preRendered[p] instanceof Function){var r=this.preRendered[p](m);s.push(r)}else{s.push(this.preRendered[p])}}var o=k.utils.html.createElements(s.join(""));e(l.getTemplateIds({childNodes:o}),function(u,t){m.$data.templateItems[t]=u});if(m.$data instanceof k.base.view){m.$data.onInitialized()}return o};l.prototype.generatePreRender=function(s){var t=new DOMParser().parseFromString("<root>"+s+"</root>","application/xml").documentElement;if(t.firstChild&&t.firstChild.nodeName==="parsererror"){var p=new XMLSerializer();throw"Invalid xml template:\n"+p.serializeToString(t.firstChild)}var o=k.template.engine.openCodeTag;var m=k.template.engine.closeCodeTag;var r=k.template.htmlBuilder.generateTemplate(t);this.preRendered.length=0;var q,n;while((q=r.indexOf(o))!==-1){this.preRendered.push(r.substr(0,q));r=r.substr(q);n=r.indexOf(m);if(n===-1){throw"Invalid wipeout_code tag."}this.preRendered.push((function(u){return function(v){return k.template.engine.scriptCache[u](v)}})(r.substr(o.length,n-o.length)));r=r.substr(n+m.length)}this.preRendered.push(r)};l.getTemplateIds=function(m){var n={};e(m.childNodes,function(q){if(q.nodeType===1){for(var o=0,p=q.attributes.length;o<p;o++){if(q.attributes[o].nodeName==="id"){n[q.attributes[o].nodeValue]=q;break}}e(l.getTemplateIds(q),function(r,s){n[s]=r})}});return n};l.generateTemplate=function(o){var m=[];var n=new XMLSerializer();e(o.childNodes,function(q){if(q.nodeType==1){var p=new DOMParser().parseFromString(n.serializeToString(q),"application/xml").documentElement;while(p.childNodes.length){p.removeChild(p.childNodes[0])}var r=k.utils.html.createElement(n.serializeToString(p));r.innerHTML=k.template.htmlBuilder.generateTemplate(q);m.push(k.utils.html.outerHTML(r))}else{if(q.nodeType===3){m.push(q.data)}else{m.push(n.serializeToString(q))}}});return m.join("")};return l});c("wipeout.utils.html",function(){var v=function(A){if(!A){return null}if(A.constructor===HTMLHtmlElement){throw"Cannot serialize a Html element using outerHTML"}var B=A.nodeType===1?(w[A.tagName.toLowerCase()]||"div"):"div";var z=document.createElement(B);z.appendChild(A.cloneNode(true));return z.innerHTML};var y=/[a-zA-Z0-9]/;var r=function(B){B=B.replace(/^\s+|\s+$/g,"");if(!B||B[0]!=="<"){throw"Invalid html tag"}B=B.substring(1).replace(/^\s+|\s+$/g,"");for(var z=0,A=B.length;z<A;z++){if(!y.test(B[z])){break}}return B.substring(0,z)};var x=/<\!--[^>]*-->/g;var q=function(z){z=z.replace(x,"").replace(/^\s+|\s+$/g,"");var A=0;if((A=z.indexOf("<"))===-1){return null}return r(z.substring(A))};var w={area:"map",base:"head",basefont:"head",body:"html",caption:"table",col:"colgroup",colgroup:"table",command:"menu",frame:"frameset",frameset:"html",head:"html",li:"ul",optgroup:"select",option:"select",rp:"rt",rt:"ruby",source:"audio",tbody:"table",td:"tr",tfoot:"table",th:"tr",thead:"table",tr:"tbody"};var l={html:true,basefont:true,base:true,body:true,frame:true,frameset:true,head:true};function o(D,A){for(var B=0,C=D.childNodes.length;B<C;B++){var z=D.childNodes[B];if(z.nodeType===1&&k.utils.obj.trimToLower(z.tagName)===k.utils.obj.trimToLower(A)){return z}}}var u={audio:true,col:true,colgroup:true,frameset:true,head:true,rp:true,rt:true,ruby:true,select:true,style:true,table:true,tbody:true,tfooy:true,thead:true,title:true,tr:true};var m=function(A){var F=k.utils.obj.trimToLower(r(A));if(l[F]){throw'Cannot create an instance of the "'+F+'" tag.'}var E=w[F]||"div";if(ko.utils.ieVersion&&u[E]){return o(m("<"+E+">"+A+"</"+E+">"),F)}var D=document.createElement(E);D.innerHTML=A;for(var B=0,C=D.childNodes.length;B<C;B++){if(D.childNodes[B].nodeType===1&&D.childNodes[B].tagName.toLowerCase()===F){var z=D.childNodes[B];D.removeChild(z);return z}}return null};var n=function(A){if(A==null){return[]}var D=q(A)||"div";var C=w[r("<"+D+"/>")]||"div";A="<"+D+"></"+D+">"+A+"<"+D+"></"+D+">";var z=document.createElement(C);z.innerHTML=A;var B=[];while(z.firstChild){B.push(z.firstChild);z.removeChild(z.firstChild)}B.splice(0,1);B.splice(B.length-1,1);return B};var p=function(B){var z=[];if(k.utils.ko.virtualElements.isVirtual(B)){var F=k.utils.ko.virtualElements.parentElement(B);for(var C=0,D=F.childNodes.length;C<D;C++){if(F.childNodes[C]===B){break}}C++;for(var D=F.childNodes.length;C<D;C++){z.push(F.childNodes[C])}}else{z=B.childNodes}var E=[];var A=0;for(var C=0,D=z.length;C<D;C++){if(k.utils.ko.virtualElements.isVirtualClosing(z[C])){A--;if(A<0){return E}continue}if(A>0){continue}E.push(z[C]);if(k.utils.ko.virtualElements.isVirtual(z[C])){A++}}return E};var s=function(z){var B=ko.utils.domData.get(z,k.bindings.wipeout.utils.wipeoutKey);if(B){return B}var A=k.utils.ko.virtualElements.parentElement(z);if(A){return s(A)}return null};var t=function(){};t.cannotCreateTags=l;t.specialTags=w;t.getFirstTagName=q;t.getTagName=r;t.getAllChildren=p;t.outerHTML=v;t.createElement=m;t.createElements=n;t.getViewModel=s;return t});c("wipeout.utils.ko",function(){var l=function(){};l.version=function(){if(!ko||!ko.version){return null}var o=ko.version.split(".");for(var m=0,n=o.length;m<n;m++){o[m]=parseInt(o[m])}return o};l.peek=function(m){if(ko.isObservable(m)){return m.peek()}else{return m}};l.array={diff:{added:"added",deleted:"deleted",retained:"retained"}};l.isObservableArray=function(m){return ko.isObservable(m)&&m.push&&m.push.constructor===Function};l.virtualElements={parentElement:function(n){var m=n.previousSibling;while(m){if(l.virtualElements.isVirtual(m)){return m}m=m.previousSibling}return n.parentNode},isVirtual:function(m){return m.nodeType===8&&m.nodeValue.replace(/^\s+/,"").indexOf("ko")===0},isVirtualClosing:function(m){return m.nodeType===8&&i(m.nodeValue)==="/ko"},childNodes:function(o){if(o.nodeType==1){return o.childNodes}if(!l.virtualElements.isVirtual(o)){return[]}var p=[];var n=0;o=o.nextSibling;while(n>=0){if(!o){throw"Cannot find closing tag to match tag ko"}var m=false;if(l.virtualElements.isVirtual(o)){n++}else{if(m=l.virtualElements.isVirtualClosing(o)){n--}}if(n===0&&!m){p.push(o)}o=o.nextSibling}return p}};return l});window.wo={};e(k.base,function(m,l){window.wo[l]=m});e(k.utils,function(m,l){window.wo[l]=m});var d=wo.DEBUG=false})();