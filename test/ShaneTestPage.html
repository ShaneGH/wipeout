<html>
<head></head>
<body>
    <script src="../lib/knockout-2.3.0.debug.js" type="text/javascript"></script>

    <script src="../build/wipeout-0.2.debug.js" type="text/javascript"></script> 
    
    <div data-bind="wpfko: rootView">
    </div>
    
    <script id="rootView" type="text/xml">
        <div style="height: 300px">
            <h1>Test control</h1>
            <br />
            <div>
                <div>
                    <div id="NestedDiv">
                    </div>
                </div>
            </div>
            <initializeView item1="'ok1'">
                <item2>ok2</item2>
            </initializeView>
            <wo.contentControl id="listTest">
                <template>
                    <div data-bind="html: model().rootTitle"></div>
                    <wo.itemsControl id="theInnerItemsControl" itemSource="$parent.model().items">
                        <itemTemplate>
                            <div id="stampMe"></div>
                            <div>
                                <span data-bind="html: model().itemId"></span>:
                                <span data-bind="html: model().itemName"></span>
                            </div>
                        </itemTemplate>
                    </wo.itemsControl>
                    <div data-bind="renderChild: totals"></div>
                </template>
                <totals constructor="wo.contentControl">
                    <template>
                        <!-- TODO: breaks if you use a virtual element here -->
                        <div data-bind="html: model().totalOfIds"></div>
                    </template>
                </totals>
            </wo.contentControl>
            <br/>
            <wo.contentControl model="$parent.model().deepItem" id="multiLevelTest">
                <template>
                    <wo.contentControl model="$parent.model().item">
                        <template>
                            <wo.contentControl model="$parent.model().value">
                                <supplimentaryProp constructor="childView" model-tw="$parent.model" value-tw="model">
                                    <template>
                                        <input type="text" data-bind="value: value"></input>
                                    </template>
                                </supplimentaryProp>
                                <template>
                                    <div data-bind="html: model"></div>
                                    <div data-bind="renderChild: supplimentaryProp"></div>
                                </template>
                            </wo.contentControl>
                        </template>
                    </wo.contentControl>                
                </template>
            </wo.contentControl>        
            <br/>
            <br/>
        </div>
        <button data-bind="click: next">next</button>
        <h3>action:</h3>
        <div data-bind="html: justDone"></div>
    </script> 

    <script src="ShaneTestScript.js" type="text/javascript"></script>
</body>
</html>
